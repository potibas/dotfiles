#!/bin/sh

echo
printf "Writing default OS/X settings..."

# Disable natural mouse scroll direction
defaults write -g com.apple.swipescrolldirection -bool NO

# Show Finder status bar
defaults write com.apple.finder ShowStatusBar -bool true

# Prevent iTunes from popping up on device connect
defaults write com.apple.iTunesHelper ignore-devices 1

# Set a faster keyboard repeat rate and initial delays
defaults write -g KeyRepeat -int 1
defaults write -g InitialKeyRepeat -int 12

# Disable press-and-hold for keys in favor of key repeat
defaults write -g ApplePressAndHoldEnabled -bool false

# Use F1, F2, etc. keys as standard function keys
defaults write -g com.apple.keyboard.fnState -bool true

# Disable auto-correct
defaults write -g NSAutomaticSpellingCorrectionEnabled -bool false

# Show all filename extensions in Finder
defaults write -g AppleShowAllExtensions -bool true

# Show hidden files
defaults write -g AppleShowAllFiles -bool true

# Expand save and print panels by default
defaults write -g NSNavPanelExpandedStateForSaveMode -bool true
defaults write -g PMPrintingExpandedStateForPrint -bool true

# Disable mission control shortcuts "switch to desktop 1" (^1) and "switch to desktop 2" (^2)
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:118:enabled boolean false" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:119:enabled boolean false" ~/Library/Preferences/com.apple.symbolichotkeys.plist

# Set mission control shortcut "move left a space" (^<-) to Cmd+Ctrl+H
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:79:value:parameters:0 104" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:79:value:parameters:1 4" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:79:value:parameters:2 1310720" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:80:value:parameters:0 104" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:80:value:parameters:1 4" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:80:value:parameters:2 1441792" ~/Library/Preferences/com.apple.symbolichotkeys.plist

# Set mission control shortcut "move right a space" (^->) to Cmd+Ctrl+L
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:81:value:parameters:0 108" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:81:value:parameters:1 37" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:81:value:parameters:2 1310720" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:82:value:parameters:0 108" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:82:value:parameters:1 37" ~/Library/Preferences/com.apple.symbolichotkeys.plist
/usr/libexec/PlistBuddy -c "set AppleSymbolicHotKeys:82:value:parameters:2 1441792" ~/Library/Preferences/com.apple.symbolichotkeys.plist

printf "\n\ndone!\nYou must logout for your new MacOS settings to take effect\n"
osascript -e 'tell application "System Events" to log out'
