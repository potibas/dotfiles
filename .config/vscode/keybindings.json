[

    // === VSCode Keybindings ===
    { "key": "cmd+k cmd+s", "command": "workbench.action.openGlobalKeybindingsFile" },
    { "key": "cmd+k s", "command": "workbench.action.openGlobalKeybindings" },

    // === NAVIGATION ===

    // General navigation: alt+hjkl
    { "key": "alt+j", "command": "workbench.action.navigateDown" },
    { "key": "alt+k", "command": "workbench.action.navigateUp" },
    { "key": "alt+h", "command": "workbench.action.navigateLeft" },
    { "key": "alt+l", "command": "workbench.action.navigateRight" },

    // Editor (tabs) navigation with alt+[]
    { "key": "alt+[", "command": "workbench.action.previousEditor", "when": "!terminalFocus" },
    { "key": "alt+]", "command": "workbench.action.nextEditor", "when": "!terminalFocus" },

    // Panel: toggle panel with alt+\ and navigate panel views (tabs) with alt+shift+[]
    { "key": "alt+\\", "command": "workbench.action.togglePanel" },
    { "key": "alt+shift+[", "command": "workbench.action.previousPanelView", "when": "panelVisible" },
    { "key": "alt+shift+]", "command": "workbench.action.nextPanelView", "when": "panelVisible" },

    // Terminal: split with Ctrl+\, unsplit with Ctrl+shift+\
    { "key": "ctrl+;", "command": "terminal.focus", "when": "!terminalFocus" },
    { "key": "ctrl+;", "command": "workbench.action.focusActiveEditorGroup", "when": "terminalFocus" },
    { "key": "ctrl+\\", "command": "workbench.action.terminal.split", "when": "terminalFocus" },
    { "key": "ctrl+shift+\\", "command": "workbench.action.terminal.unsplit", "when": "terminalFocus" },

    // Sidebar: toggle with alt+ctrl+\, navigate views with alt+ctrl+[],
    { "key": "alt+ctrl+\\", "command": "workbench.action.toggleSidebarVisibility" },
    { "key": "alt+ctrl+[", "command": "workbench.action.previousSideBarView", "when": "sideBarVisible" },
    { "key": "alt+ctrl+]", "command": "workbench.action.nextSideBarView", "when": "sideBarVisible" },
    // Resize sidebar left and right with alt+h/l (doesn't work with every sidebar view)
    { "key": "alt+shift+h", "command": "workbench.action.decreaseViewSize", "when": "!panelFocus && !editorFocus" },
    { "key": "alt+shift+l", "command": "workbench.action.increaseViewSize", "when": "!panelFocus && !editorFocus" },
    // Switch sidebar side with alt+ctrl+backtick
    { "key": "alt+shift+`", "command": "workbench.action.toggleSidebarPosition" },

    // Navigate terminal windows with alt+[] and panes (splits) with alt+hl
    { "key": "alt+h", "command": "workbench.action.terminal.focusPreviousPane", "when": "terminalFocus && terminalCount > 1 " },
    { "key": "alt+l", "command": "workbench.action.terminal.focusNextPane", "when": "terminalFocus" },
    { "key": "alt+[", "command": "workbench.action.terminal.focusNext", "when": "terminalFocus" },
    { "key": "alt+]", "command": "workbench.action.terminal.focusPrevious", "when": "terminalFocus" },

    // Resize terminal up and down with alt+shift+j/k
    { "key": "alt+shift+k", "command": "workbench.action.decreaseViewHeight" },
    { "key": "alt+shift+j", "command": "workbench.action.increaseViewHeight" },

    // Resize terminal splits left and right with alt+h/l
    { "key": "alt+shift+h", "command": "workbench.action.terminal.resizePaneLeft", "when": "terminalFocus" },
    { "key": "alt+shift+l", "command": "workbench.action.terminal.resizePaneRight", "when": "terminalFocus" },



    // { "key": "ctrl+\\", "command": "workbench.action.terminal.unsplit" },
    // { "key": "alt+shift+\\", "command": "workbench.action.terminal.focusPreviousPane" },
    //{ "key": "ctrl+alt+\\", "command": "workbench.action.terminal.focusPreviousPane" },
    // { "key": "alt+;", "command": "workbench.action.minimizeOtherEditors" },
    // { "key": "alt+;", "command": "workbench.action.foc" },


    // { "key": "alt+shift+;", "command": "workbench.action.evenEditorWidths", "when": "sideBarVisible" },
    // { "key": "alt+shift+;", "when": "!sideBarVisible",
    //     "command": "runCommands",
    //     "args": {
    //         "commands": [ "workbench.action.toggleSidebarVisibility", "workbench.action.evenEditorWidths" ]
    //     }
    // },

    // { "key": "alt+\\", "command": "workbench.action.maximizeEditorHideSidebar" },
    // { "key": "alt+\\", "command": "workbench.action.minimizeOtherEditorsHideSidebar" },
    // { "key": "alt+\\", "command": "workbench.action.navigateEditorGroups" },
    // { "key": "alt+\\", "command": "workbench.action.toggleMaximizedPanel" },
    // { "key": "alt+\\", "command": "workbench.action.toggleMaximizeEditorGroup" },
    // { "key": "alt+\\", "command": "workbench.action.toggleMaximizedPanel" },
    // { "key": "alt+\\", "command": "workbench.action.toggleEditorWidths" },

    // Vim-ish things
    { "key": "ctrl+e", "command": "-cursorLineEnd" },
    { "key": "ctrl+o", "command": "-lineBreakInsert" },
    { "key": "ctrl+e", "command": "scrollLineDown", "when": "editorFocus" },
    { "key": "ctrl+y", "command": "scrollLineUp", "when": "editorFocus" },
    { "key": "ctrl+o", "command": "workbench.action.navigateBack", "when": "canNavigateBack" },
    { "key": "ctrl+i", "command": "workbench.action.navigateForward", "when": "canNavigateForward" },

    // Emmet
    { "key": "alt+o", "command": "editor.emmet.action.balanceOut", "when": "editorFocus" },
    { "key": "alt+a", "command": "editor.emmet.action.wrapWithAbbreviation", "when": "editorFocus" },

    // === Git Integration ===
    { "key": "shift+cmd+l", "command": "-lazygit-vscode.toggle" },
    { "key": "ctrl+g", "command": "-workbench.action.gotoLine" },
    { "key": "ctrl+g ctrl+l", "command": "lazygit-vscode.toggle" },
    { "key": "ctrl+g i", "command": "git.stageSelectedRanges" },
    { "key": "ctrl+g shift+I", "command": "git.viewStagedChanges" },
    { "key": "ctrl+g o", "command": "git.commit" },

    // === Navigation ===
    { "key": "cmd+k e", "command": "workbench.view.explorer" },
    { "key": "cmd+k x", "command": "workbench.view.extensions" },
    { "key": "cmd+k g", "command": "workbench.view.scm" },
    { "key": "cmd+k cmd+p", "command": "workbench.action.problems.focus" },
    { "key": "cmd+k cmd+o", "command": "workbench.panel.output.focus" },
    // Focus the terminal with cmd+j, use shift to toggle panel
    { "key": "cmd+j", "command": "workbench.action.terminal.focus" },
    { "key": "shift+cmd+j", "command": "workbench.action.togglePanel" },
    { "key": "cmd+j", "command": "-workbench.action.togglePanel" },

    // === PHP ===
    { "key": "ctrl+l", "command": "type", "args": { "text": "->" }, "when": "editorTextFocus && editorLangId=='php'" },
    {
        "key": "cmd+enter",
        "command": "runCommands",
        "when": "editorTextFocus && editorLangId=='php'",
        "args": {
            "commands": [
                { "command": "cursorLineEnd", },
                { "command": "type", "args": { "text": ";\n" }, },
            ]
        }
    },

    // { "text": ";\n" }, "when": "editorTextFocus && editorLangId=='php'" },

    // === LSP ===
    {
        "key": "ctrl+]",
        "command": "editor.action.revealDefinition",
        "when": "editorHasDefinitionProvider && editorTextFocus"
    },
    { "key": "f13", "command": "editor.action.goToTypeDefinition" },
    { "key": "shift+f13", "command": "editor.action.peekTypeDefinition" },

    // === Testing ===
    { "key": "cmd+t", "command": "-workbench.action.showAllSymbols" },
    { "key": "cmd+t cmd+j", "command": "better-pest.run-previous" },
    { "key": "cmd+t cmd+k", "command": "better-pest.run" },
    { "key": "cmd+t cmd+f", "command": "better-pest.run-file" },
    { "key": "cmd+t cmd+a", "command": "better-pest.run-suite" },
]
