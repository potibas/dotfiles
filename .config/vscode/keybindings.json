[

    // === VSCode Keybindings ===
    { "key": "cmd+k cmd+s", "command": "workbench.action.openGlobalKeybindingsFile" },
    { "key": "cmd+k s", "command": "workbench.action.openGlobalKeybindings" },

    // General navigation: alt+hjkl
    { "key": "alt+j", "command": "workbench.action.navigateDown" },
    { "key": "alt+k", "command": "workbench.action.navigateUp" },
    { "key": "alt+h", "command": "workbench.action.navigateLeft" },
    { "key": "alt+l", "command": "workbench.action.navigateRight" },

    // Split editors with alt+\ and alt+-
    { "key": "alt+\\", "command": "workbench.action.splitEditorRight" },
    { "key": "alt+-", "command": "workbench.action.splitEditorDown" },

    // Focus terminal and back with ctrl+;
    { "key": "ctrl+;", "command": "terminal.focus", "when": "!terminalFocus" },
    { "key": "ctrl+;", "command": "workbench.action.focusFirstEditorGroup", "when": "terminalFocus" },

    // Toggle the bottom panel with alt+;
    { "key": "alt+;", "command": "workbench.action.togglePanel" },

    // Editor (tabs) navigation with alt+[]
    { "key": "alt+[", "command": "workbench.action.previousEditor" },
    { "key": "alt+]", "command": "workbench.action.nextEditor" },

    // Resize main editor window horizontally with alt+shift+L and alt+shift+h
    { "key": "alt+shift+l", "command": "workbench.action.increaseViewWidth" },
    { "key": "alt+shift+h", "command": "workbench.action.decreaseViewWidth" },

    // Resize panel up and down with alt+shift+j/k
    { "key": "alt+shift+k", "command": "workbench.action.decreaseViewHeight" },
    { "key": "alt+shift+j", "command": "workbench.action.increaseViewHeight" },

    // Sidebar: toggle with alt+shift+\, navigate views with alt+ctrl+[],
    { "key": "alt+shift+\\", "command": "workbench.action.toggleSidebarVisibility" },

    { "key": "alt+ctrl+[", "command": "workbench.action.previousSideBarView", "when": "sideBarVisible" },
    { "key": "alt+ctrl+]", "command": "workbench.action.nextSideBarView", "when": "sideBarVisible" },

    // // Resize sidebar left and right with alt+h/l (doesn't work with every sidebar view)
    // // Switch sidebar side with alt+ctrl+backtick
    // { "key": "alt+shift+`", "command": "workbench.action.toggleSidebarPosition" },

    // // Navigate panel views (tabs) with alt+[]
    // { "key": "alt+[", "command": "workbench.action.previousPanelView", "when": "!editorFocus" },
    // { "key": "alt+]", "command": "workbench.action.nextPanelView", "when": "!editorFocus" },
    // Split terminal to the right side with ctrl+\
    // { "key": "ctrl+\\", "command": "workbench.action.createTerminalEditorSide", "when": "!terminalFocus" },

    // // Navigate terminal windows with alt+[] and panes (splits) with alt+hl
    // { "key": "alt+h", "command": "workbench.action.terminal.focusPreviousPane", "when": "terminalFocus && terminalCount > 1 " },
    // { "key": "alt+l", "command": "workbench.action.terminal.focusNextPane", "when": "terminalFocus" },
    // { "key": "alt+[", "command": "workbench.action.terminal.focusNext", "when": "terminalFocus" },
    // { "key": "alt+]", "command": "workbench.action.terminal.focusPrevious", "when": "terminalFocus" },


    // { "key": "", "command": "workbench.action.maximizeEditorHideSidebar" },
    // { "key": "", "command": "workbench.action.evenEditorWidths" },
    // { "key": "", "command": "workbench.action.minimizeOtherEditorsHideSidebar" },
    // { "key": "", "command": "workbench.action.navigateEditorGroups" },
    // { "key": "", "command": "workbench.action.toggleMaximizedPanel" },
    // { "key": "", "command": "workbench.action.toggleMaximizeEditorGroup" },
    // { "key": "", "command": "workbench.action.toggleMaximizedPanel" },
    // { "key": "", "command": "workbench.action.toggleEditorWidths" },

    // Vim-ish things
    // { "key": "ctrl+e", "command": "-cursorLineEnd" },
    // { "key": "ctrl+o", "command": "-lineBreakInsert" },
    // { "key": "ctrl+e", "command": "scrollLineDown", "when": "editorFocus" },
    // { "key": "ctrl+y", "command": "scrollLineUp", "when": "editorFocus" },
    // { "key": "ctrl+o", "command": "workbench.action.navigateBack", "when": "canNavigateBack" },
    // { "key": "ctrl+i", "command": "workbench.action.navigateForward", "when": "canNavigateForward" },

    // Emmet
    { "key": "alt+o", "command": "editor.emmet.action.balanceOut", "when": "editorFocus" },
    { "key": "alt+a", "command": "editor.emmet.action.wrapWithAbbreviation", "when": "editorFocus" },

    // === Git Integration ===
    { "key": "shift+cmd+l", "command": "-lazygit-vscode.toggle" },
    { "key": "ctrl+g", "command": "-workbench.action.gotoLine" },
    { "key": "ctrl+g ctrl+l", "command": "lazygit-vscode.toggle" },
    { "key": "ctrl+g i", "command": "git.stageSelectedRanges" },
    { "key": "ctrl+g shift+I", "command": "git.viewStagedChanges" },
    { "key": "ctrl+g o", "command": "git.commit" },

    // === Navigation ===
    { "key": "cmd+k e", "command": "workbench.view.explorer" },
    { "key": "cmd+k x", "command": "workbench.view.extensions" },
    { "key": "cmd+k g", "command": "workbench.view.scm" },
    { "key": "cmd+k cmd+p", "command": "workbench.action.problems.focus" },
    { "key": "cmd+k cmd+o", "command": "workbench.panel.output.focus" },
    // Focus the terminal with cmd+j, use shift to toggle panel
    { "key": "cmd+j", "command": "workbench.action.terminal.focus" },
    { "key": "shift+cmd+j", "command": "workbench.action.togglePanel" },
    { "key": "cmd+j", "command": "-workbench.action.togglePanel" },

    // === PHP ===
    { "key": "ctrl+l", "command": "type", "args": { "text": "->" }, "when": "editorTextFocus && editorLangId=='php'" },
    {
        "key": "cmd+enter",
        "command": "runCommands",
        "when": "editorTextFocus && editorLangId=='php'",
        "args": {
            "commands": [
                { "command": "cursorLineEnd", },
                { "command": "type", "args": { "text": ";\n" }, },
            ]
        }
    },

    // === LSP ===
    {
        "key": "ctrl+]",
        "command": "editor.action.revealDefinition",
        "when": "editorHasDefinitionProvider && editorTextFocus"
    },
    { "key": "f13", "command": "editor.action.goToTypeDefinition" },
    { "key": "shift+f13", "command": "editor.action.peekTypeDefinition" },

    // === Testing ===
    { "key": "cmd+t", "command": "-workbench.action.showAllSymbols" },
    { "key": "cmd+t cmd+j", "command": "better-pest.run-previous" },
    { "key": "cmd+t cmd+k", "command": "better-pest.run" },
    { "key": "cmd+t cmd+f", "command": "better-pest.run-file" },
    { "key": "cmd+t cmd+a", "command": "better-pest.run-suite" },

    // === Fake Vim mappings ===

    // Close window with `q` instead of recording macro
    {
        "command": "workbench.action.closeActiveEditor",
        "when": "editorTextFocus && neovim.mode != insert",
        "key": "q"
    },

]
